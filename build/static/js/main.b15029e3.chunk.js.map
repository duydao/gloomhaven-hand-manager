{"version":3,"sources":["CharacterSelection.js","PerkSelection.js","HandSelection.js","CardContainer.js","PlayArea.js","App.js","serviceWorker.js","index.js"],"names":["CharacterContainer","character","characterName","handleStaffOfCommand","selectCharacter","id","name","onClick","className","src","initials","alt","noSpoilerName","type","onChange","e","target","checked","align","CharacterSelection","availableCharacters","game","handleGameChange","handleSetCharacter","handleSetLevel","level","useState","setCharacterName","bladeSwarmUnlocked","setBladeSwarmUnlocked","cookies","Cookies","firstRow","slice","secondRow","thirdRow","fourthRow","fifthRow","sixthRow","useEffect","cookieInfo","getAll","parseInt","alert","action","style","color","event","value","map","key","disabled","title","PerkSelection","modifyModifierDeck","handleSetStage","characterPerks","resetModifierDeck","isChecked","perks","setPerk","changesToModifierDeck","setChangesToModifierDeck","cookie","handlePerkChange","perkId","checkboxId","prevPerks","newPerks","changes","find","perk","newChangesToModifierDeck","forEach","change","_","remove","modifierChanges","perkData","checkboxes","checkbox","label","set","path","maxAge","cardsToAdd","filter","formattedCardsToAdd","card","i","number","push","cardTitle","image","cardsToRemove","formattedCardsToRemove","handleConfirmPerks","CardTableRowLevelOne","cardIsInHand","handleCardClick","cardSet","enhancementOptions","handleEnhancementChange","enhancements","enhancement","EnhancementIcon","index","enhancementOption","CardTableRowTwoLevels","firstCardSet","firstLevel","secondCardSet","secondLevel","SelectedHand","hand","toLowerCase","top","left","HandSelection","addCardToHand","handleUpdateCharacter","removeCardFromHand","cards","startingCards","levelTwoCards","levelThreeCards","levelFourCards","levelFiveCards","levelSixCards","levelSevenCards","levelEightCards","levelNineCards","cardToCheck","some","updatedData","selectedCard","previousSibling","cardFromCharacter","length","handSize","CardContainer","cardClass","containerClass","cardSelected","mustLose","tracker","trackerButtons","setTrackerButtons","active","newTrackerButtons","handleClickTracker","DiscardedCards","discardedCards","handleMoveCardsBackToHand","moveDiscardedCardsToLost","removeCardFromDiscard","selectedCards","setSelectedCards","resting","setResting","canRerollLost","setCanRerollLost","longResting","setLongResting","cardToLose","setCardToLose","handleOnClick","cardClicked","firstChild","characterCard","newSelection","shift","cardBoarder","colSpan","border","textAlign","Math","floor","random","handleShortRest","Object","keys","cardsToChooseFrom","newCardToLose","handleRerollLostCard","ActiveCards","activeCards","moveActiveCardToDiscard","moveActiveCardToLost","setSelectedCard","tagName","cardToSelect","ChosenCards","chosenCards","modifierDeck","moveCardToActive","moveCardToDiscard","moveCardToLost","staffOfCommand","ModifierDeck","playedModifyCards","setPlayedModifyCards","localModifierDeck","setLocalModifierDeck","mustShuffle","setMustShuffle","extraBlessCount","setExtraBlessCount","extraCurseCount","setExtraCurseCount","extraMinusOneCount","setExtraMinusOneCount","displayModal","setDisplayModal","minus1Card","curseCard","blessingCard","newLocalModifierDeck","playedCard","handleFlipModifier","addPlayedCards","shuffledModifierDeck","playedMinusBlessCurseMinusOne","j","temp","handleShuffleModifierDeck","handleAddBless","handleAddCurse","handleAddMinusOneCard","cardIndex","findIndex","splice","console","log","handleRemoveMinusOneCard","handleResetModifierDeck","newModDeck","handleRemoveAllCurseCards","ModifierModal","handleClose","playedModifierCards","show","display","LostCards","lostCards","moveLostCardToHand","HandCards","moveHandCardToLost","moveCardsToChosen","moveThirdCardToChosen","hasCardsInPlay","rowOne","rowTwo","rowThree","PlayArea","setHand","setHasCardsInPlay","setChosenCards","setDiscardedCards","setActiveCards","setLostCards","anyChosenCardsLeft","newArray","cardActivated","indexOf","newChosenCards","cardDiscarded","cardLost","newActiveCards","cardsRecovered","resetHand","newDiscardedCards","newLostCards","newHandCards","newHand","Feedback","FeedbackModal","hideModal","setTitle","setType","body","setBody","submitted","setSubmitted","submissionError","setSubmissionError","showErrors","setShowErrors","octokit","Octokit","require","auth","process","REACT_APP_GITHUB_KEY","ThemeProvider","StackView","spacing","Field","inline","helpContent","Input","Select","emptyValue","tooltip","Option","TextArea","height","placeholder","Button","issues","create","owner","repo","labels","catch","err","href","App","stage","setStage","setGame","setCharacter","setLevel","setModifierDeck","setStaffOfCommand","allCharacterData","gameName","getGameCharacters","characterData","x","get","selected","newModifierDeck","concat","modifierWithCardsRemoved","array","attr","findWithAttr","cardToAdd","cardReceived","cardToRemove","previousHand","reject","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.b15029e3.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport Konami from 'react-konami-code'\nimport Cookies from 'universal-cookie'\n\nfunction CharacterSelection({\n  availableCharacters,\n  game,\n  handleGameChange,\n  handleSetCharacter,\n  handleSetLevel,\n  handleStaffOfCommand,\n  level,\n}) {\n  const [characterName, setCharacterName] = useState('')\n  const [bladeSwarmUnlocked, setBladeSwarmUnlocked] = useState(false)\n  const cookies = new Cookies()\n  const firstRow = availableCharacters.slice(0, 3)\n  const secondRow = availableCharacters.slice(3, 6)\n  const thirdRow = availableCharacters.slice(6, 9)\n  const fourthRow = availableCharacters.slice(9, 12)\n  const fifthRow = availableCharacters.slice(12, 15)\n  const sixthRow = availableCharacters.slice(15, 18)\n\n  useEffect(() => {\n    let cookieInfo = cookies.getAll()\n    if (cookieInfo.character) {\n      selectCharacter(cookieInfo.character)\n    }\n    if (cookieInfo.level) {\n      handleSetLevel(parseInt(cookieInfo.level, 10))\n    }\n  }, [])\n\n  function selectCharacter(characterName) {\n    setCharacterName(characterName)\n  }\n\n  if (bladeSwarmUnlocked) {\n    alert(`You unlocked bladeswarm`)\n  }\n\n  function handleUnlockBladeSwarm() {\n    setBladeSwarmUnlocked(true)\n  }\n\n  return (\n    <>\n      <Konami action={handleUnlockBladeSwarm} />\n      <div id=\"select-className-section\" align=\"center\">\n        <h2 className=\"header\" align=\"center\" style={{ color: 'white' }}>\n          Select Your Character\n        </h2>\n        <select\n          onChange={(event) => handleGameChange(event.target.value)}\n          id=\"game-selector\"\n          value={game}\n        >\n          <option value=\"gloomhaven\">Gloomhaven</option>\n          <option value=\"forgottenCircles\">Forgotten Circles</option>\n          <option value=\"jotl\">Jaws of the Lion</option>\n        </select>\n        <table>\n          <tbody>\n            <tr>\n              {firstRow.map((character) => (\n                <CharacterContainer\n                  character={character}\n                  characterName={characterName}\n                  handleStaffOfCommand={handleStaffOfCommand}\n                  key={character.noSpoilerName}\n                  selectCharacter={selectCharacter}\n                />\n              ))}\n            </tr>\n            <tr>\n              {secondRow.map((character) => (\n                <CharacterContainer\n                  character={character}\n                  characterName={characterName}\n                  handleStaffOfCommand={handleStaffOfCommand}\n                  key={character.noSpoilerName}\n                  selectCharacter={selectCharacter}\n                />\n              ))}\n            </tr>\n            <tr>\n              {thirdRow.map((character) => (\n                <CharacterContainer\n                  character={character}\n                  characterName={characterName}\n                  handleStaffOfCommand={handleStaffOfCommand}\n                  key={character.noSpoilerName}\n                  selectCharacter={selectCharacter}\n                />\n              ))}\n            </tr>\n            <tr>\n              {fourthRow.map((character) => (\n                <CharacterContainer\n                  character={character}\n                  characterName={characterName}\n                  handleStaffOfCommand={handleStaffOfCommand}\n                  key={character.noSpoilerName}\n                  selectCharacter={selectCharacter}\n                />\n              ))}\n            </tr>\n            <tr>\n              {fifthRow.map((character) => (\n                <CharacterContainer\n                  character={character}\n                  characterName={characterName}\n                  handleStaffOfCommand={handleStaffOfCommand}\n                  key={character.noSpoilerName}\n                  selectCharacter={selectCharacter}\n                />\n              ))}\n            </tr>\n            <tr>\n              {sixthRow.map((character) => (\n                <CharacterContainer\n                  character={character}\n                  characterName={characterName}\n                  handleStaffOfCommand={handleStaffOfCommand}\n                  key={character.noSpoilerName}\n                  selectCharacter={selectCharacter}\n                />\n              ))}\n            </tr>\n          </tbody>\n        </table>\n        <div id=\"level-selection\" align=\"center\">\n          <h2 className=\"header\" align=\"center\" style={{ color: 'white' }}>\n            Select Your Level\n          </h2>\n          <p id=\"level-counter\">Level: {level}</p>\n          <br />\n          <button\n            id=\"level-down\"\n            className=\"level-modifier\"\n            type=\"button\"\n            onClick={() => handleSetLevel(level - 1)}\n            disabled={level < 2}\n          >\n            -\n          </button>\n          <button\n            id=\"level-up\"\n            className=\"level-modifier\"\n            type=\"button\"\n            onClick={() => handleSetLevel(level + 1)}\n            disabled={level > 8 || (game === 'jotl' && level > 3)}\n          >\n            +\n          </button>\n          <br />\n        </div>\n        <br />\n        <button\n          id=\"confirm-character-button\"\n          className=\"button\"\n          type=\"button\"\n          align=\"center\"\n          title=\"Must Select A Character\"\n          onClick={() => handleSetCharacter(characterName)}\n          disabled={characterName === ''}\n        >\n          Confirm Character\n        </button>\n      </div>\n    </>\n  )\n}\n\nfunction CharacterContainer({\n  character,\n  characterName,\n  handleStaffOfCommand,\n  selectCharacter,\n}) {\n  return (\n    <td\n      id={character.name === 'beastTyrant' ? 'beastTyrantOption' : ''}\n      onClick={() => selectCharacter(character.name)}\n    >\n      <img\n        className={\n          characterName === character.name\n            ? 'character active character-selected'\n            : 'character active'\n        }\n        src={`./images/character-icons/${character.initials}-icon.png`}\n        alt={character.noSpoilerName}\n      />\n      <br />\n      {character.name === 'beastTyrant' && (\n        <div>\n          <div\n            id=\"beastTyrantStaffLabel\"\n            className={\n              characterName === 'beastTyrant' ? 'solo-scenario-label' : 'hiding'\n            }\n          >\n            Completed solo scenario\n          </div>\n          <label className=\"switch\">\n            <input\n              id=\"beastTyrantSolo\"\n              type=\"checkbox\"\n              onChange={(e) => handleStaffOfCommand(e.target.checked)}\n            />\n            <span\n              id=\"beastTyrantStaff\"\n              className={\n                characterName === 'beastTyrant' ? 'slider' : 'slider hiding'\n              }\n            />\n          </label>\n        </div>\n      )}\n      <p className=\"character-title\" align=\"center\">\n        {character.noSpoilerName}\n      </p>\n    </td>\n  )\n}\n\nexport default CharacterSelection\n","import React, { useState, useEffect } from 'react'\nimport _ from 'lodash'\nimport Cookies from 'universal-cookie'\n// TODO: How do I persist what perks have been selected if someone navigates away and comes back?\n\nfunction PerkSelection({\n  modifyModifierDeck,\n  character,\n  handleSetStage,\n  characterPerks,\n  resetModifierDeck,\n}) {\n  const [perks, setPerk] = useState([\n    {\n      id: 1,\n      isChecked: false,\n    },\n    {\n      id: 2,\n      isChecked: false,\n    },\n    {\n      id: 3,\n      isChecked: false,\n    },\n    {\n      id: 4,\n      isChecked: false,\n    },\n    {\n      id: 5,\n      isChecked: false,\n    },\n    {\n      id: 6,\n      isChecked: false,\n    },\n    {\n      id: 7,\n      isChecked: false,\n    },\n    {\n      id: 8,\n      isChecked: false,\n    },\n    {\n      id: 9,\n      isChecked: false,\n    },\n    {\n      id: 10,\n      isChecked: false,\n    },\n    {\n      id: 11,\n      isChecked: false,\n    },\n    {\n      id: 12,\n      isChecked: false,\n    },\n    {\n      id: 13,\n      isChecked: false,\n    },\n    {\n      id: 14,\n      isChecked: false,\n    },\n    {\n      id: 15,\n      isChecked: false,\n    },\n  ])\n  const [changesToModifierDeck, setChangesToModifierDeck] = useState([])\n  const cookie = new Cookies()\n\n  useEffect(() => {\n    resetModifierDeck()\n    let cookieInfo = cookie.getAll()\n    if (cookieInfo.perks) {\n      setPerk(cookieInfo.perks)\n    }\n    if (cookieInfo.modifierChanges) {\n      setChangesToModifierDeck(cookieInfo.modifierChanges)\n    }\n  }, [])\n\n  function handlePerkChange(perkId, checkboxId, value) {\n    // Update value of perk in state\n    setPerk((prevPerks) => {\n      let newPerks = [...prevPerks]\n      newPerks[checkboxId].isChecked = value\n      return newPerks\n    })\n\n    // Find changes needed to Attack Modifier based on this perk\n    let changes = characterPerks.find((perk) => perk.id === perkId).changes\n\n    // Add or remove the changes for this perk from state, which is used in handleConfirmPerks()\n    if (value === true) {\n      setChangesToModifierDeck([...changesToModifierDeck, ...changes])\n    } else {\n      let newChangesToModifierDeck = [...changesToModifierDeck]\n      changes.forEach((change) => {\n        _.remove(newChangesToModifierDeck, change)\n      })\n      setChangesToModifierDeck(newChangesToModifierDeck)\n    }\n  }\n\n  function handleConfirmPerks() {\n    // Add perks to cookie\n    cookie.set('perks', perks, {\n      path: '/',\n      maxAge: 31104000,\n    })\n\n    cookie.set('modifierChanges', changesToModifierDeck, {\n      path: '/',\n      maxAge: 31104000,\n    })\n\n    // TODO: Got each function working independantly, but they don't work together. Need to combine these two functions into a single function and rework it.\n    // Adding cards to the modifier deck\n    let cardsToAdd = _.filter(changesToModifierDeck, { action: 'add' })\n    let formattedCardsToAdd = []\n    cardsToAdd.forEach((card) => {\n      for (let i = 0; i < card.number; i++) {\n        formattedCardsToAdd.push({\n          name: card.cardTitle,\n          image: `./images/attack-modifiers/${character.initials}/am-${character.initials}-${card.cardTitle}.png`,\n        })\n      }\n    })\n\n    // Removing cards from the modifier deck\n    let cardsToRemove = _.filter(changesToModifierDeck, { action: 'remove' })\n    // Send array of formatted card names to remove\n    let formattedCardsToRemove = []\n    cardsToRemove.forEach((card) => {\n      for (let i = 0; i < card.number; i++) {\n        formattedCardsToRemove.push({ name: card.cardTitle })\n      }\n    })\n    modifyModifierDeck(formattedCardsToRemove, formattedCardsToAdd)\n    handleSetStage('selectHand')\n  }\n\n  return (\n    <>\n      <div id=\"perk-section\" align=\"center\">\n        <h2 id=\"perks-header\" className=\"header\">\n          Select Your Perks\n        </h2>\n        <div className=\"perks\">\n          {characterPerks.map((perkData) => (\n            <div key={perkData.id}>\n              {perkData.checkboxes.map((checkbox) => (\n                <div\n                  key={checkbox.id}\n                  className={\n                    perks[checkbox.id].isChecked\n                      ? 'checkbox checked'\n                      : 'checkbox'\n                  }\n                  onClick={\n                    perks[checkbox.id].isChecked\n                      ? () => handlePerkChange(perkData.id, checkbox.id, false)\n                      : () => handlePerkChange(perkData.id, checkbox.id, true)\n                  }\n                />\n              ))}\n              <p>{perkData.label}</p>\n            </div>\n          ))}\n          <button\n            id=\"confirmPerksButton\"\n            className=\"button\"\n            type=\"button\"\n            onClick={() => handleConfirmPerks()}\n          >\n            Confirm Perks\n          </button>\n        </div>\n        <button\n          className=\"button\"\n          type=\"button\"\n          onClick={() => handleSetStage('selectCharacter')}\n        >\n          Go Back To Character Select\n        </button>\n      </div>\n    </>\n  )\n}\n\nexport default PerkSelection\n","import React from 'react'\n\nfunction HandSelection({\n  addCardToHand,\n  character,\n  level,\n  hand,\n  handleUpdateCharacter,\n  handleSetStage,\n  removeCardFromHand,\n}) {\n  // TODO: move cards over to use the CardContainer component\n  const firstRow = character.cards.slice(0, 5)\n  const secondRow = character.cards.slice(5, 10)\n  const thirdRow = character.cards.slice(10, character.startingCards)\n  const levelTwoCards = character.cards.filter((card) => {\n    return card.level === 2\n  })\n  const levelThreeCards = character.cards.filter((card) => {\n    return card.level === 3\n  })\n  const levelFourCards = character.cards.filter((card) => {\n    return card.level === 4\n  })\n  const levelFiveCards = character.cards.filter((card) => {\n    return card.level === 5\n  })\n  const levelSixCards = character.cards.filter((card) => {\n    return card.level === 6\n  })\n  const levelSevenCards = character.cards.filter((card) => {\n    return card.level === 7\n  })\n  const levelEightCards = character.cards.filter((card) => {\n    return card.level === 8\n  })\n  const levelNineCards = character.cards.filter((card) => {\n    return card.level === 9\n  })\n  const enhancementOptions = [\n    '+1',\n    'Leap',\n    'Wind',\n    'Ice',\n    'Fire',\n    'Leaf',\n    'Sun',\n    'Moon',\n    'Wild Element',\n    'Bless',\n    'Curse',\n    'Disarm',\n    'Immobilize',\n    'Wound',\n    'Muddle',\n    'Poison',\n    'Strengthen',\n    'Area',\n  ]\n\n  function cardIsInHand(cardToCheck) {\n    if (hand.some((card) => card.title === cardToCheck.title)) {\n      return true\n    }\n    return false\n  }\n\n  function handleEnhancementChange(cardTitle, id, e) {\n    let updatedData = { ...character }\n    const card = updatedData.cards.find((card) => card.title === cardTitle)\n    let enhancement = card.enhancements.find(\n      (enhancement) => enhancement.id === id\n    )\n    enhancement.enhancement = e.target.value\n    handleUpdateCharacter(updatedData)\n  }\n\n  function handleCardClick(selectedCard) {\n    while (selectedCard.className === 'enhancement-icon') {\n      selectedCard = selectedCard.previousSibling\n    }\n    let cardFromCharacter = character.cards.find(\n      (card) => card.title === selectedCard.alt\n    )\n    if (cardIsInHand(cardFromCharacter)) {\n      removeCardFromHand(cardFromCharacter)\n    } else {\n      if (hand.length < character.handSize) {\n        addCardToHand(cardFromCharacter)\n      } else {\n        alert(`Your hand is full`)\n      }\n    }\n  }\n\n  return (\n    <div id=\"initial-table\" className=\"cardSet\">\n      <h2 id=\"choose-cards-number\" className=\"header\">\n        Choose {character.handSize} Cards\n      </h2>\n      <div align=\"center\">\n        <p id=\"card-counter\" className=\"card-counter\" align=\"center\">\n          {hand.length}/{character.handSize}\n        </p>\n      </div>\n      <table className=\"cardTable\" align=\"center\">\n        <tbody>\n          <CardTableRowLevelOne\n            cardIsInHand={cardIsInHand}\n            handleCardClick={handleCardClick}\n            cardSet={firstRow}\n            character={character}\n            enhancementOptions={enhancementOptions}\n            handleEnhancementChange={handleEnhancementChange}\n          />\n          <CardTableRowLevelOne\n            cardIsInHand={cardIsInHand}\n            handleCardClick={handleCardClick}\n            cardSet={secondRow}\n            character={character}\n            enhancementOptions={enhancementOptions}\n            handleEnhancementChange={handleEnhancementChange}\n          />\n          <CardTableRowLevelOne\n            cardIsInHand={cardIsInHand}\n            handleCardClick={handleCardClick}\n            cardSet={thirdRow}\n            character={character}\n            enhancementOptions={enhancementOptions}\n            handleEnhancementChange={handleEnhancementChange}\n          />\n          {level >= 2 && (\n            <CardTableRowTwoLevels\n              cardIsInHand={cardIsInHand}\n              handleCardClick={handleCardClick}\n              character={character}\n              enhancementOptions={enhancementOptions}\n              handleEnhancementChange={handleEnhancementChange}\n              firstCardSet={levelTwoCards}\n              firstLevel={2}\n              level={level}\n              secondCardSet={levelThreeCards}\n              secondLevel={3}\n            />\n          )}\n          {level >= 4 && (\n            <CardTableRowTwoLevels\n              cardIsInHand={cardIsInHand}\n              handleCardClick={handleCardClick}\n              character={character}\n              enhancementOptions={enhancementOptions}\n              handleEnhancementChange={handleEnhancementChange}\n              firstCardSet={levelFourCards}\n              firstLevel={4}\n              level={level}\n              secondCardSet={levelFiveCards}\n              secondLevel={5}\n            />\n          )}\n          {level >= 6 && (\n            <CardTableRowTwoLevels\n              cardIsInHand={cardIsInHand}\n              handleCardClick={handleCardClick}\n              character={character}\n              enhancementOptions={enhancementOptions}\n              handleEnhancementChange={handleEnhancementChange}\n              firstCardSet={levelSixCards}\n              firstLevel={6}\n              level={level}\n              secondCardSet={levelSevenCards}\n              secondLevel={7}\n            />\n          )}\n          {level >= 8 && (\n            <CardTableRowTwoLevels\n              cardIsInHand={cardIsInHand}\n              handleCardClick={handleCardClick}\n              character={character}\n              enhancementOptions={enhancementOptions}\n              handleEnhancementChange={handleEnhancementChange}\n              firstCardSet={levelEightCards}\n              firstLevel={8}\n              level={level}\n              secondCardSet={levelNineCards}\n              secondLevel={9}\n            />\n          )}\n        </tbody>\n      </table>\n      <div>\n        <SelectedHand character={character} hand={hand} />\n      </div>\n      <div align=\"center\">\n        <button\n          className=\"button\"\n          type=\"button\"\n          onClick={() => handleSetStage('selectPerks')}\n        >\n          Go Back To Perks\n        </button>\n        <button\n          className=\"button\"\n          type=\"button\"\n          title=\"Must Have a Full Hand\"\n          onClick={() => handleSetStage('playing')}\n          disabled={hand.length < character.handSize}\n        >\n          Confirm Hand\n        </button>\n      </div>\n    </div>\n  )\n}\n\nfunction CardTableRowLevelOne({\n  cardIsInHand,\n  handleCardClick,\n  cardSet,\n  character,\n  enhancementOptions,\n  handleEnhancementChange,\n}) {\n  return (\n    <>\n      <tr>\n        <td className=\"level\">Level 1:</td>\n        {cardSet.map((card) => {\n          return (\n            <td\n              key={card.title}\n              className=\"chooseCardsTable\"\n              onClick={(e) => handleCardClick(e.target)}\n            >\n              <img\n                src={`./images/character-ability-cards/${character.initials}/${card.title}.png`}\n                className={\n                  cardIsInHand(card) ? 'chooseCards add-border' : 'chooseCards'\n                }\n                alt={card.title}\n              />\n              {card.enhancements.map((enhancement) => (\n                <EnhancementIcon\n                  key={enhancement.id}\n                  enhancement={enhancement}\n                />\n              ))}\n            </td>\n          )\n        })}\n      </tr>\n      <tr>\n        <td className=\"enhancement-label\" />\n        {cardSet.map((card) => {\n          return (\n            <td key={`${card.title}-Enhancements`} className=\"enhancement\">\n              {card.enhancements.map((enhancement, index) => {\n                return (\n                  <div\n                    key={`${card.title}-${index}`}\n                    className=\"enhancement-row\"\n                  >\n                    <label className=\"enhancement\">Enhancement:</label>\n                    <select\n                      onChange={(e) =>\n                        handleEnhancementChange(card.title, enhancement.id, e)\n                      }\n                    >\n                      <option value=\"none\">None</option>\n                      {enhancementOptions.map((enhancementOption) => {\n                        return (\n                          <option\n                            key={enhancementOption}\n                            value={enhancementOption}\n                          >\n                            {enhancementOption}\n                          </option>\n                        )\n                      })}\n                    </select>\n                  </div>\n                )\n              })}\n            </td>\n          )\n        })}\n      </tr>\n    </>\n  )\n}\n\nfunction CardTableRowTwoLevels({\n  cardIsInHand,\n  handleCardClick,\n  character,\n  enhancementOptions,\n  handleEnhancementChange,\n  firstCardSet,\n  firstLevel,\n  level,\n  secondCardSet,\n  secondLevel,\n}) {\n  return (\n    <>\n      <tr>\n        <td className=\"level\">Level {firstLevel}:</td>\n        {firstCardSet.map((card) => {\n          return (\n            <td\n              key={card.title}\n              className=\"chooseCardsTable\"\n              onClick={(e) => handleCardClick(e.target)}\n            >\n              <img\n                src={`./images/character-ability-cards/${character.initials}/${card.title}.png`}\n                className={\n                  cardIsInHand(card) ? 'chooseCards add-border' : 'chooseCards'\n                }\n                alt={card.title}\n              />\n              {card.enhancements.map((enhancement) => (\n                <EnhancementIcon\n                  key={enhancement.id}\n                  enhancement={enhancement}\n                />\n              ))}\n            </td>\n          )\n        })}\n        {level >= secondLevel && (\n          <>\n            <td className=\"level\">Level {secondLevel}:</td>\n            {secondCardSet.map((card) => {\n              return (\n                <td\n                  key={card.title}\n                  className=\"chooseCardsTable\"\n                  onClick={(e) => handleCardClick(e.target)}\n                >\n                  <img\n                    src={`./images/character-ability-cards/${character.initials}/${card.title}.png`}\n                    className={\n                      cardIsInHand(card)\n                        ? 'chooseCards add-border'\n                        : 'chooseCards'\n                    }\n                    alt={card.title}\n                  />\n                  {card.enhancements.map((enhancement) => (\n                    <EnhancementIcon\n                      key={enhancement.id}\n                      enhancement={enhancement}\n                    />\n                  ))}\n                </td>\n              )\n            })}\n          </>\n        )}\n      </tr>\n      <tr>\n        <td className=\"enhancement-label\" />\n        {firstCardSet.map((card) => {\n          return (\n            <td key={`${card.title}-Enhancements`} className=\"enhancement\">\n              {card.enhancements.map((enhancement, index) => {\n                return (\n                  <div\n                    key={`${card.title}-${index}`}\n                    className=\"enhancement-row\"\n                  >\n                    <label className=\"enhancement\">Enhancement:</label>\n                    <select\n                      onChange={(e) =>\n                        handleEnhancementChange(card.title, enhancement.id, e)\n                      }\n                    >\n                      <option value=\"none\">None</option>\n                      {enhancementOptions.map((enhancementOption) => {\n                        return (\n                          <option\n                            key={enhancementOption}\n                            value={enhancementOption}\n                          >\n                            {enhancementOption}\n                          </option>\n                        )\n                      })}\n                    </select>\n                  </div>\n                )\n              })}\n            </td>\n          )\n        })}\n        {level >= secondLevel && (\n          <>\n            <td className=\"enhancement-label\" />\n            {secondCardSet.map((card) => {\n              return (\n                <td key={`${card.title}-Enhancements`} className=\"enhancement\">\n                  {card.enhancements.map((enhancement, index) => {\n                    return (\n                      <div\n                        key={`${card.title}-${index}`}\n                        className=\"enhancement-row\"\n                      >\n                        <label className=\"enhancement\">Enhancement:</label>\n                        <select\n                          onChange={(e) =>\n                            handleEnhancementChange(\n                              card.title,\n                              enhancement.id,\n                              e\n                            )\n                          }\n                        >\n                          <option value=\"none\">None</option>\n                          {enhancementOptions.map((enhancementOption) => {\n                            return (\n                              <option\n                                key={enhancementOption}\n                                value={enhancementOption}\n                              >\n                                {enhancementOption}\n                              </option>\n                            )\n                          })}\n                        </select>\n                      </div>\n                    )\n                  })}\n                </td>\n              )\n            })}\n          </>\n        )}\n      </tr>\n    </>\n  )\n}\n\nfunction SelectedHand({ character, hand }) {\n  const firstRow = hand.slice(0, 4)\n  const secondRow = hand.slice(4, 8)\n  const thirdRow = hand.slice(8, 12)\n  return (\n    <table align=\"center\">\n      <tbody>\n        <tr>\n          {firstRow.map((card) => {\n            return (\n              <td key={card.title} className=\"hand\">\n                <img\n                  src={`./images/character-ability-cards/${character.initials}/${card.title}.png`}\n                  className=\"chooseCards\"\n                  alt={card.title}\n                />\n                {card.enhancements.map((enhancement) => (\n                  <EnhancementIcon\n                    key={enhancement.id}\n                    enhancement={enhancement}\n                  />\n                ))}\n              </td>\n            )\n          })}\n        </tr>\n        <tr>\n          {secondRow.map((card) => {\n            return (\n              <td key={card.title} className=\"hand\">\n                <img\n                  src={`./images/character-ability-cards/${character.initials}/${card.title}.png`}\n                  className=\"chooseCards\"\n                  alt={card.title}\n                />\n                {card.enhancements.map((enhancement) => (\n                  <EnhancementIcon\n                    key={enhancement.id}\n                    enhancement={enhancement}\n                  />\n                ))}\n              </td>\n            )\n          })}\n        </tr>\n        <tr>\n          {thirdRow.map((card) => {\n            return (\n              <td key={card.title} className=\"hand\">\n                <img\n                  src={`./images/character-ability-cards/${character.initials}/${card.title}.png`}\n                  className=\"chooseCards\"\n                  alt={card.title}\n                />\n                {card.enhancements.map((enhancement) => (\n                  <EnhancementIcon\n                    key={enhancement.id}\n                    enhancement={enhancement}\n                  />\n                ))}\n              </td>\n            )\n          })}\n        </tr>\n      </tbody>\n    </table>\n  )\n}\n\nfunction EnhancementIcon({ enhancement }) {\n  return (\n    <>\n      {enhancement.enhancement !== '' && (\n        <img\n          className=\"enhancement-icon\"\n          src={`./images/enhancements/${enhancement.enhancement.toLowerCase()}.png`}\n          style={{ top: enhancement.top, left: enhancement.left }}\n          alt={`Enhancement Name`}\n        />\n      )}\n    </>\n  )\n}\n\nexport default HandSelection\n","import React, { useState } from 'react'\n\nfunction CardContainer({\n  card,\n  cardClass = '',\n  containerClass,\n  cardSelected,\n  character,\n  mustLose,\n  onClick,\n}) {\n  const [trackerButtons, setTrackerButtons] = useState(card.tracker)\n\n  function handleClickTracker(i) {\n    let newTrackerButtons = [...trackerButtons]\n    newTrackerButtons[i].active = !newTrackerButtons[i].active\n    setTrackerButtons(newTrackerButtons)\n  }\n  return (\n    <td\n      key={card.title}\n      className={containerClass}\n      onClick={(e) => onClick(e.target)}\n    >\n      <img\n        src={`./images/character-ability-cards/${character.initials}/${card.title}.png`}\n        className={\n          cardSelected(card) ? `new-add-border ${cardClass}` : `${cardClass}`\n        }\n        alt={card.title}\n      />\n      {card.enhancements.map((enhancement) => (\n        <EnhancementIcon key={enhancement.id} enhancement={enhancement} />\n      ))}\n      {mustLose && <p>Must Lose</p>}\n      {containerClass === 'active-card' && card.tracker.length > 0 && (\n        <>\n          <br />\n          {card.tracker.map((tracker, i) => (\n            <button\n              disabled={!trackerButtons[i].active}\n              onClick={() => handleClickTracker(i)}\n            >\n              {i + 1}\n            </button>\n          ))}\n        </>\n      )}\n    </td>\n  )\n}\n\nfunction EnhancementIcon({ enhancement }) {\n  return (\n    <>\n      {enhancement.enhancement !== '' && (\n        <img\n          className=\"enhancement-icon\"\n          src={`./images/enhancements/${enhancement.enhancement.toLowerCase()}.png`}\n          style={{ top: enhancement.top, left: enhancement.left }}\n          alt={`Enhancement Name`}\n        />\n      )}\n    </>\n  )\n}\n\nexport default CardContainer\n","import React, { useState } from 'react'\nimport _ from 'lodash'\nimport CardContainer from './CardContainer'\n\nfunction PlayArea({ character, hand, modifierDeck, setHand, staffOfCommand }) {\n  const [hasCardsInPlay, setHasCardsInPlay] = useState(false)\n  const [chosenCards, setChosenCards] = useState([{}, {}, {}])\n  const [discardedCards, setDiscardedCards] = useState([])\n  const [activeCards, setActiveCards] = useState([])\n  const [lostCards, setLostCards] = useState([])\n\n  function anyChosenCardsLeft(newArray) {\n    let cardsStillInPlay = newArray.filter(\n      (value) => Object.keys(value).length !== 0\n    )\n    if (cardsStillInPlay.length > 0) {\n      return true\n    }\n    return false\n  }\n\n  function moveCardsToChosen(cards) {\n    // remove selected cards from hand\n    let newHand = [...hand]\n    cards.forEach((card) => {\n      _.remove(newHand, card)\n    })\n    setHand(newHand)\n\n    // add selected cards to ChosenCards component\n    let newChosenCards = [...chosenCards]\n    newChosenCards[0] = cards[0]\n    newChosenCards[1] = cards[1]\n    setChosenCards(newChosenCards)\n\n    setHasCardsInPlay(true)\n  }\n\n  function moveThirdCardToChosen(cards) {\n    // remove selected cards from hand\n    let newHand = [...hand]\n    cards.forEach((card) => {\n      _.remove(newHand, card)\n    })\n    setHand(newHand)\n\n    // add selected cards to ChosenCards component\n    let newChosenCards = [...chosenCards]\n    newChosenCards[2] = cards[0]\n    setChosenCards(newChosenCards)\n\n    setHasCardsInPlay(true)\n  }\n\n  function moveCardToDiscard(cardDiscarded) {\n    let i = _.indexOf(chosenCards, cardDiscarded)\n    let newChosenCards = [...chosenCards]\n    newChosenCards[i] = {}\n    setChosenCards(newChosenCards)\n    setDiscardedCards([...discardedCards, cardDiscarded])\n    if (!anyChosenCardsLeft(newChosenCards)) {\n      setHasCardsInPlay(false)\n    }\n  }\n\n  function moveDiscardedCardsToLost(cards, resetHand) {\n    setLostCards([...lostCards, ...cards])\n    let newDiscardedCards = [...discardedCards]\n    cards.forEach((card) => {\n      _.remove(newDiscardedCards, card)\n    })\n    if (resetHand) {\n      setHand([...hand, ...newDiscardedCards], setDiscardedCards([]))\n    } else {\n      setDiscardedCards(newDiscardedCards)\n    }\n  }\n\n  function moveActiveCardToDiscard(cardDiscarded) {\n    let newActiveCards = [...activeCards]\n    _.remove(newActiveCards, cardDiscarded)\n    setActiveCards(newActiveCards)\n    setDiscardedCards([...discardedCards, cardDiscarded])\n  }\n\n  function moveCardToLost(cardLost) {\n    let i = _.indexOf(chosenCards, cardLost)\n    let newChosenCards = [...chosenCards]\n    newChosenCards[i] = {}\n    setChosenCards(newChosenCards)\n    setLostCards([...lostCards, cardLost])\n    if (!anyChosenCardsLeft(newChosenCards)) {\n      setHasCardsInPlay(false)\n    }\n  }\n\n  function moveActiveCardToLost(cardLost) {\n    let newActiveCards = [...activeCards]\n    _.remove(newActiveCards, cardLost)\n    setActiveCards(newActiveCards)\n    setLostCards([...lostCards, cardLost])\n  }\n\n  function moveHandCardToLost(cardLost) {\n    let newHandCards = [...hand]\n    _.remove(newHandCards, cardLost)\n    setHand(newHandCards)\n    setLostCards([...lostCards, cardLost])\n  }\n\n  function moveCardToActive(cardActivated) {\n    let i = _.indexOf(chosenCards, cardActivated)\n    let newChosenCards = [...chosenCards]\n    newChosenCards[i] = {}\n    setChosenCards(newChosenCards)\n    setActiveCards([...activeCards, cardActivated])\n    if (!anyChosenCardsLeft(newChosenCards)) {\n      setHasCardsInPlay(false)\n    }\n  }\n\n  function handleMoveCardsBackToHand(cardsRecovered) {\n    setHand([...hand, ...cardsRecovered])\n  }\n\n  function removeCardFromDiscard(card) {\n    _.remove(discardedCards, card)\n  }\n\n  function moveLostCardToHand(card) {\n    setHand([...hand, card])\n    let newLostCards = [...lostCards]\n    _.remove(newLostCards, card)\n    setLostCards(newLostCards)\n  }\n\n  return (\n    <>\n      <div id=\"play-game\" align=\"center\">\n        <table id=\"play-area\" align=\"center\">\n          <tbody>\n            <tr>\n              <ChosenCards\n                character={character}\n                chosenCards={chosenCards}\n                modifierDeck={modifierDeck}\n                moveCardToActive={moveCardToActive}\n                moveCardToDiscard={moveCardToDiscard}\n                moveCardToLost={moveCardToLost}\n                staffOfCommand={staffOfCommand}\n              />\n              <ActiveCards\n                character={character}\n                activeCards={activeCards}\n                moveActiveCardToDiscard={moveActiveCardToDiscard}\n                moveActiveCardToLost={moveActiveCardToLost}\n              />\n            </tr>\n            <tr>\n              <DiscardedCards\n                character={character}\n                discardedCards={discardedCards}\n                handleMoveCardsBackToHand={handleMoveCardsBackToHand}\n                moveDiscardedCardsToLost={moveDiscardedCardsToLost}\n                removeCardFromDiscard={removeCardFromDiscard}\n              />\n              <LostCards\n                character={character}\n                lostCards={lostCards}\n                moveLostCardToHand={moveLostCardToHand}\n              />\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <HandCards\n        character={character}\n        hand={hand}\n        moveHandCardToLost={moveHandCardToLost}\n        moveThirdCardToChosen={moveThirdCardToChosen}\n        moveCardsToChosen={moveCardsToChosen}\n        hasCardsInPlay={hasCardsInPlay}\n        staffOfCommand={staffOfCommand}\n      />\n    </>\n  )\n}\n\nfunction DiscardedCards({\n  character,\n  discardedCards,\n  handleMoveCardsBackToHand,\n  moveDiscardedCardsToLost,\n  removeCardFromDiscard,\n}) {\n  const [selectedCards, setSelectedCards] = useState([])\n  const [resting, setResting] = useState(false)\n  const [canRerollLost, setCanRerollLost] = useState(false)\n  const [longResting, setLongResting] = useState(false)\n  const [cardToLose, setCardToLose] = useState({})\n  const firstRow = discardedCards.slice(0, 5)\n  const secondRow = discardedCards.slice(5, 10)\n  const thirdRow = discardedCards.slice(10, 15)\n\n  function handleOnClick(cardClicked) {\n    while (cardClicked.className === 'enhancement-icon') {\n      cardClicked = cardClicked.previousSibling\n    }\n    if (cardClicked.className === 'hand') {\n      cardClicked = cardClicked.firstChild\n    }\n    let characterCard = character.cards.find(\n      (card) => card.title === cardClicked.alt\n    )\n    if (longResting) {\n      setCardToLose(characterCard)\n    } else {\n      if (selectedCards.some((card) => card.title === cardClicked.alt)) {\n        let newSelection = [...selectedCards]\n        _.remove(newSelection, characterCard)\n        setSelectedCards(newSelection)\n      } else {\n        if (selectedCards.length < 2) {\n          setSelectedCards([...selectedCards, characterCard])\n        } else {\n          let newSelection = [...selectedCards]\n          newSelection.shift()\n          newSelection.push(characterCard)\n          setSelectedCards(newSelection)\n        }\n      }\n    }\n  }\n\n  function cardSelected(cardClicked) {\n    if (selectedCards.some((card) => card.title === cardClicked.title)) {\n      return true\n    }\n    return false\n  }\n\n  function handleRecoverDiscardedCard() {\n    handleMoveCardsBackToHand(selectedCards)\n    removeCardFromDiscard(selectedCards[0])\n    setSelectedCards([])\n  }\n\n  function handleLoseCardsAvoidingDamage(cards) {\n    moveDiscardedCardsToLost(cards, false)\n    setSelectedCards([])\n  }\n\n  function handleShortRest() {\n    setResting(true)\n    let cardToLose =\n      discardedCards[Math.floor(Math.random() * discardedCards.length)]\n    setCardToLose(cardToLose)\n    setCanRerollLost(true)\n  }\n\n  function handleLoseCardFromRest() {\n    moveDiscardedCardsToLost([cardToLose], true)\n    setResting(false)\n    setCanRerollLost(false)\n    setCardToLose({})\n    setLongResting(false)\n  }\n\n  function handleRerollLostCard() {\n    let cardsToChooseFrom = [...discardedCards]\n    _.remove(cardsToChooseFrom, cardToLose)\n    let newCardToLose =\n      cardsToChooseFrom[Math.floor(Math.random() * cardsToChooseFrom.length)]\n    setCardToLose(newCardToLose)\n    setCanRerollLost(false)\n  }\n\n  function handleLongRest() {\n    setLongResting(true)\n  }\n\n  function cardBoarder(card) {\n    if (card === cardToLose && resting) {\n      return 'chooseCards must-lose'\n    } else if (card === cardToLose && longResting) {\n      return 'chooseCards discard-selected'\n    }\n    return 'chooseCards'\n  }\n\n  return (\n    <td\n      id=\"discarded-cards-title\"\n      colSpan=\"2\"\n      style={{ border: '1px solid white', textAlign: 'center' }}\n    >\n      Discarded Cards\n      {longResting && <p id=\"choose-to-lose\">Choose One Card to Lose</p>}\n      <table id=\"discard-table\">\n        <tbody>\n          <tr>\n            {firstRow.map((card) => (\n              <CardContainer\n                card={card}\n                cardClass={cardBoarder(card)}\n                containerClass={'discarded'}\n                cardSelected={cardSelected}\n                character={character}\n                key={card.title}\n                mustLose={card === cardToLose && resting}\n                onClick={handleOnClick}\n              />\n            ))}\n          </tr>\n          <tr>\n            {secondRow.map((card) => (\n              <CardContainer\n                card={card}\n                cardClass={cardBoarder(card)}\n                containerClass={'discarded'}\n                cardSelected={cardSelected}\n                character={character}\n                key={card.title}\n                mustLose={card === cardToLose && resting}\n                onClick={handleOnClick}\n              />\n            ))}\n          </tr>\n          <tr>\n            {thirdRow.map((card) => (\n              <CardContainer\n                card={card}\n                cardClass={cardBoarder(card)}\n                containerClass={'discarded'}\n                cardSelected={cardSelected}\n                character={character}\n                key={card.title}\n                mustLose={card === cardToLose && resting}\n                onClick={handleOnClick}\n              />\n            ))}\n          </tr>\n        </tbody>\n      </table>\n      <button\n        id=\"short-rest-button\"\n        disabled={discardedCards.length < 2 || resting || longResting}\n        className=\"button\"\n        onClick={() => handleShortRest()}\n        type=\"button\"\n        title=\"Must Have At Least 2 Discarded Cards And No Cards in Play\"\n      >\n        Short Rest\n      </button>\n      <button\n        id=\"long-rest-button\"\n        disabled={discardedCards.length < 2 || resting || longResting}\n        className=\"button\"\n        onClick={() => handleLongRest()}\n        type=\"button\"\n        title=\"Must Have At Least 2 Discarded Cards And No Cards in Play\"\n      >\n        Long Rest\n      </button>\n      <button\n        id=\"recover-discard-button\"\n        disabled={selectedCards.length !== 1 || resting || longResting}\n        className=\"button\"\n        onClick={() => handleRecoverDiscardedCard(selectedCards[0])}\n        type=\"button\"\n        title=\"Must Have A Discarded Card Selected\"\n      >\n        Recover Discarded Card\n      </button>\n      <br />\n      <button\n        id=\"lose-discard-button\"\n        className=\"button\"\n        disabled={Object.keys(cardToLose).length === 0}\n        onClick={() => handleLoseCardFromRest()}\n        type=\"button\"\n        title=\"Must Be Resting\"\n      >\n        Lose Card From Rest\n      </button>\n      <button\n        id=\"reroll-random-card-button\"\n        className=\"button\"\n        disabled={!canRerollLost}\n        onClick={() => handleRerollLostCard()}\n        type=\"button\"\n        title=\"Can Only Be Used Once Per Short Rest\"\n      >\n        Reroll Lost Card\n      </button>\n      <button\n        id=\"lose-discard-button2\"\n        className=\"button\"\n        disabled={selectedCards.length !== 2}\n        onClick={() => handleLoseCardsAvoidingDamage(selectedCards)}\n        type=\"button\"\n        title=\"Must Have A Discarded Card Selected - Must Lose 2 to Avoid Damage\"\n      >\n        Lose Cards To Avoid Damage\n      </button>\n    </td>\n  )\n}\n\nfunction ActiveCards({\n  character,\n  activeCards,\n  moveActiveCardToDiscard,\n  moveActiveCardToLost,\n}) {\n  const [selectedCard, setSelectedCard] = useState({})\n  const firstRow = activeCards.slice(0, 3)\n  const secondRow = activeCards.slice(3, 6)\n\n  function cardSelected(card) {\n    if (selectedCard === card) {\n      return true\n    }\n    return false\n  }\n\n  function handleCardClick(cardClicked) {\n    if (cardClicked.tagName === 'BUTTON' || cardClicked.tagName === 'BR') {\n      return\n    }\n    while (cardClicked.className === 'enhancement-icon') {\n      cardClicked = cardClicked.previousSibling\n    }\n    if (cardClicked.className === 'active-card') {\n      cardClicked = cardClicked.firstChild\n    }\n    let cardToSelect = character.cards.find(\n      (card) => card.title === cardClicked.alt\n    )\n    cardToSelect === selectedCard\n      ? setSelectedCard({})\n      : setSelectedCard(cardToSelect)\n  }\n\n  function handleDiscardCard(card) {\n    moveActiveCardToDiscard(card)\n    setSelectedCard({})\n  }\n\n  function handleLoseCard(card) {\n    moveActiveCardToLost(card)\n    setSelectedCard({})\n  }\n\n  return (\n    <td\n      id=\"active-cards-title\"\n      colSpan=\"2\"\n      style={{ border: '1px solid white', textAlign: 'center' }}\n    >\n      Active Cards\n      <br />\n      <table id=\"active-table\" align=\"center\">\n        <tbody>\n          <tr>\n            {firstRow.map((card) => (\n              <CardContainer\n                card={card}\n                cardClass={'chooseCards'}\n                containerClass={'active-card'}\n                cardSelected={cardSelected}\n                character={character}\n                key={card.title}\n                onClick={handleCardClick}\n              />\n            ))}\n          </tr>\n          <tr>\n            {secondRow.map((card) => (\n              <CardContainer\n                card={card}\n                cardClass={'chooseCards'}\n                containerClass={'active-card'}\n                cardSelected={cardSelected}\n                character={character}\n                key={card.title}\n                onClick={handleCardClick}\n              />\n            ))}\n          </tr>\n        </tbody>\n      </table>\n      <button\n        id=\"discard-active-card\"\n        className=\"button tooltip\"\n        disabled={Object.keys(selectedCard).length === 0}\n        onClick={() => handleDiscardCard(selectedCard)}\n        type=\"button\"\n        title=\"Must Have an Active Card Selected\"\n      >\n        Discard Active Card\n      </button>\n      <button\n        id=\"lose-active-card\"\n        className=\"button tooltip\"\n        disabled={Object.keys(selectedCard).length === 0}\n        onClick={() => handleLoseCard(selectedCard)}\n        type=\"button\"\n        title=\"Must Have an Active Card Selected\"\n      >\n        Lose Active Card\n      </button>\n      <br />\n    </td>\n  )\n}\n\nfunction ChosenCards({\n  character,\n  chosenCards,\n  modifierDeck,\n  moveCardToActive,\n  moveCardToDiscard,\n  moveCardToLost,\n  staffOfCommand,\n}) {\n  const [selectedCard, setSelectedCard] = useState({})\n\n  function cardSelected(card) {\n    if (selectedCard === card) {\n      return true\n    }\n    return false\n  }\n\n  function handleCardClick(cardClicked) {\n    while (cardClicked.className === 'enhancement-icon') {\n      cardClicked = cardClicked.previousSibling\n    }\n    if (cardClicked.className === 'hand') {\n      cardClicked = cardClicked.firstChild\n    }\n    let cardToSelect = character.cards.find(\n      (card) => card.title === cardClicked.alt\n    )\n    cardToSelect === selectedCard\n      ? setSelectedCard({})\n      : setSelectedCard(cardToSelect)\n  }\n\n  function handleDiscardChosenCard() {\n    moveCardToDiscard(selectedCard)\n    setSelectedCard({})\n  }\n\n  function handleLostChosenCard() {\n    moveCardToLost(selectedCard)\n    setSelectedCard({})\n  }\n\n  function handleActivateChosenCard() {\n    moveCardToActive(selectedCard)\n    setSelectedCard({})\n  }\n\n  return (\n    <td\n      className=\"chosen-cards-title\"\n      colSpan=\"2\"\n      style={{ border: '1px solid white', textAlign: 'center' }}\n    >\n      Chosen Cards\n      <br />\n      <table align=\"center\">\n        <tbody>\n          <tr>\n            {Object.keys(chosenCards[0]).length === 0 ? (\n              <td id=\"chosen-card-1\" className=\"card-in-play\">\n                <img\n                  alt=\"Chosen Card 1\"\n                  src={`./images/character-ability-cards/${character.initials}/${character.initials}-back.png`}\n                  className=\"card\"\n                />\n              </td>\n            ) : (\n              <CardContainer\n                card={chosenCards[0]}\n                cardClass={'chooseCards'}\n                containerClass={'card-in-play'}\n                cardSelected={cardSelected}\n                character={character}\n                onClick={handleCardClick}\n              />\n            )}\n            {Object.keys(chosenCards[1]).length === 0 ? (\n              <td id=\"chosen-card-2\" className=\"card-in-play\">\n                <img\n                  alt=\"Chosen Card 1\"\n                  src={`./images/character-ability-cards/${character.initials}/${character.initials}-back.png`}\n                  className=\"card\"\n                />\n              </td>\n            ) : (\n              <CardContainer\n                card={chosenCards[1]}\n                cardClass={'chooseCards'}\n                containerClass={'card-in-play'}\n                cardSelected={cardSelected}\n                character={character}\n                onClick={handleCardClick}\n              />\n            )}\n            {staffOfCommand && Object.keys(chosenCards[2]).length === 0 && (\n              <td id=\"chosen-card-3\" className=\"card-in-play\">\n                <img\n                  alt=\"Chosen Card 1\"\n                  src={`./images/character-ability-cards/${character.initials}/${character.initials}-back.png`}\n                  className=\"card\"\n                />\n              </td>\n            )}\n            {staffOfCommand && Object.keys(chosenCards[2]).length !== 0 && (\n              <CardContainer\n                card={chosenCards[2]}\n                cardClass={'chooseCards'}\n                containerClass={'card-in-play'}\n                cardSelected={cardSelected}\n                character={character}\n                onClick={handleCardClick}\n              />\n            )}\n          </tr>\n        </tbody>\n      </table>\n      <div>\n        <br />\n        <button\n          id=\"discard-button\"\n          className=\"button tooltip\"\n          disabled={Object.keys(selectedCard).length === 0}\n          type=\"button\"\n          title=\"Must Have a Card In Play Selected\"\n          onClick={() => handleDiscardChosenCard()}\n        >\n          Discard Card\n        </button>\n        <button\n          id=\"lose-button\"\n          className=\"button tooltip\"\n          disabled={Object.keys(selectedCard).length === 0}\n          onClick={() => handleLostChosenCard()}\n          type=\"button\"\n          title=\"Must Have a Card In Play Selected\"\n        >\n          Lose Card\n        </button>\n        <button\n          id=\"activate-button\"\n          className=\"button tooltip\"\n          disabled={Object.keys(selectedCard).length === 0}\n          onClick={() => handleActivateChosenCard()}\n          type=\"button\"\n          title=\"Must Have a Card In Play Selected\"\n        >\n          Move Card to Active\n        </button>\n      </div>\n      <ModifierDeck modifierDeck={modifierDeck} />\n    </td>\n  )\n}\n\nfunction ModifierDeck({ modifierDeck }) {\n  const [playedModifyCards, setPlayedModifyCards] = useState([])\n  const [localModifierDeck, setLocalModifierDeck] = useState(modifierDeck)\n  const [mustShuffle, setMustShuffle] = useState(false)\n  const [extraBlessCount, setExtraBlessCount] = useState(0)\n  const [extraCurseCount, setExtraCurseCount] = useState(0)\n  const [extraMinusOneCount, setExtraMinusOneCount] = useState(0)\n  // PICK UP HERE: add a modal component and hand showModal state\n  const [displayModal, setDisplayModal] = useState(false)\n\n  const minus1Card = {\n    name: 'extraMinus1',\n    image: './images/attack-modifiers/base/player-mod/am-pm-minus1.png',\n  }\n  const curseCard = {\n    name: 'extraCurse',\n    image: './images/attack-modifiers/base/player-mod/am-pm-curse.png',\n  }\n  const blessingCard = {\n    name: 'extraBless',\n    image: './images/attack-modifiers/base/player-mod/am-pm-bless.png',\n  }\n\n  function handleFlipModifier() {\n    let newLocalModifierDeck = [...localModifierDeck]\n    setPlayedModifyCards([...playedModifyCards, newLocalModifierDeck[0]])\n    let playedCard = newLocalModifierDeck.shift()\n    setLocalModifierDeck(newLocalModifierDeck)\n    if (playedCard.name === 'times2' || playedCard.name === 'miss') {\n      setMustShuffle(true)\n    } else if (playedCard.name === 'extraBless') {\n      setExtraBlessCount(extraBlessCount - 1)\n    } else if (playedCard.name === 'extraCurse') {\n      setExtraCurseCount(extraCurseCount - 1)\n    }\n  }\n\n  function handleShuffleModifierDeck(addPlayedCards) {\n    let shuffledModifierDeck = []\n    if (addPlayedCards) {\n      let playedMinusBlessCurseMinusOne = [...playedModifyCards]\n      _.remove(playedMinusBlessCurseMinusOne, blessingCard)\n      _.remove(playedMinusBlessCurseMinusOne, curseCard)\n      _.remove(playedMinusBlessCurseMinusOne, minus1Card)\n      shuffledModifierDeck = [\n        ...localModifierDeck,\n        ...playedMinusBlessCurseMinusOne,\n      ]\n      setPlayedModifyCards([])\n      setMustShuffle(false)\n    } else {\n      shuffledModifierDeck = [...localModifierDeck]\n    }\n    for (let i = shuffledModifierDeck.length - 1; i > 0; i--) {\n      const j = Math.floor(Math.random() * i)\n      const temp = shuffledModifierDeck[i]\n      shuffledModifierDeck[i] = shuffledModifierDeck[j]\n      shuffledModifierDeck[j] = temp\n    }\n    setLocalModifierDeck(shuffledModifierDeck)\n  }\n\n  function handleAddBless() {\n    if (extraBlessCount < 10) {\n      let newLocalModifierDeck = [...localModifierDeck, blessingCard]\n      // When I had it shuffle once, the bless was always the last card. Suffling twice fixes this, but there is likely a better way to do this.\n      for (let i = newLocalModifierDeck.length - 1; i > 0; i--) {\n        const j = Math.floor(Math.random() * i)\n        const temp = newLocalModifierDeck[i]\n        newLocalModifierDeck[i] = newLocalModifierDeck[j]\n        newLocalModifierDeck[j] = temp\n      }\n      for (let i = newLocalModifierDeck.length - 1; i > 0; i--) {\n        const j = Math.floor(Math.random() * i)\n        const temp = newLocalModifierDeck[i]\n        newLocalModifierDeck[i] = newLocalModifierDeck[j]\n        newLocalModifierDeck[j] = temp\n      }\n      setLocalModifierDeck(newLocalModifierDeck)\n      setExtraBlessCount(extraBlessCount + 1)\n    }\n  }\n\n  function handleAddCurse() {\n    if (extraCurseCount < 10) {\n      let newLocalModifierDeck = [...localModifierDeck, curseCard]\n      // When I had it shuffle once, the bless was always the last card. Suffling twice fixes this, but there is likely a better way to do this.\n      for (let i = newLocalModifierDeck.length - 1; i > 0; i--) {\n        const j = Math.floor(Math.random() * i)\n        const temp = newLocalModifierDeck[i]\n        newLocalModifierDeck[i] = newLocalModifierDeck[j]\n        newLocalModifierDeck[j] = temp\n      }\n      for (let i = newLocalModifierDeck.length - 1; i > 0; i--) {\n        const j = Math.floor(Math.random() * i)\n        const temp = newLocalModifierDeck[i]\n        newLocalModifierDeck[i] = newLocalModifierDeck[j]\n        newLocalModifierDeck[j] = temp\n      }\n      setLocalModifierDeck(newLocalModifierDeck)\n      setExtraCurseCount(extraCurseCount + 1)\n    }\n  }\n\n  function handleAddMinusOneCard() {\n    let newLocalModifierDeck = [...localModifierDeck, minus1Card]\n    // When I had it shuffle once, the bless was always the last card. Suffling twice fixes this, but there is likely a better way to do this.\n    for (let i = newLocalModifierDeck.length - 1; i > 0; i--) {\n      const j = Math.floor(Math.random() * i)\n      const temp = newLocalModifierDeck[i]\n      newLocalModifierDeck[i] = newLocalModifierDeck[j]\n      newLocalModifierDeck[j] = temp\n    }\n    for (let i = newLocalModifierDeck.length - 1; i > 0; i--) {\n      const j = Math.floor(Math.random() * i)\n      const temp = newLocalModifierDeck[i]\n      newLocalModifierDeck[i] = newLocalModifierDeck[j]\n      newLocalModifierDeck[j] = temp\n    }\n    setExtraMinusOneCount(extraMinusOneCount + 1)\n    setLocalModifierDeck(newLocalModifierDeck)\n  }\n\n  function handleRemoveMinusOneCard() {\n    if (extraMinusOneCount > 0) {\n      let newLocalModifierDeck = [...localModifierDeck]\n      let cardIndex = _.findIndex(newLocalModifierDeck, minus1Card)\n      newLocalModifierDeck.splice(cardIndex, 1)\n      console.log(newLocalModifierDeck, cardIndex)\n      setLocalModifierDeck(newLocalModifierDeck)\n      setExtraMinusOneCount(extraMinusOneCount - 1)\n    }\n  }\n\n  function handleResetModifierDeck() {\n    let newLocalModifierDeck = [...localModifierDeck, ...playedModifyCards]\n    // Probably a better way to do this...\n    _.remove(newLocalModifierDeck, minus1Card)\n    _.remove(newLocalModifierDeck, curseCard)\n    _.remove(newLocalModifierDeck, blessingCard)\n    setLocalModifierDeck(newLocalModifierDeck)\n    setPlayedModifyCards([])\n    setExtraCurseCount(0)\n    setExtraBlessCount(0)\n  }\n\n  function showModal() {\n    setDisplayModal(true)\n  }\n\n  function hideModal() {\n    setDisplayModal(false)\n  }\n\n  function handleRemoveAllCurseCards() {\n    let newModDeck = [...localModifierDeck]\n    _.remove(newModDeck, curseCard)\n    setLocalModifierDeck(newModDeck)\n    setExtraCurseCount(0)\n  }\n\n  return (\n    <div id=\"attack-modifier-deck\" align=\"center\">\n      {mustShuffle && (\n        <h2 id=\"mustShuffle\" style={{ color: 'red' }}>\n          Must Shuffle At End of Turn\n        </h2>\n      )}\n      <h2 id=\"cardsInDeck\" style={{ color: 'white' }}>\n        Cards in Deck:{` ${localModifierDeck.length}`}\n      </h2>\n      <h6 id=\"blessesInDeck\" style={{ color: 'white' }}>\n        Extra Blesses in deck: {extraBlessCount}\n      </h6>\n      <h6 id=\"cursesInDeck\" style={{ color: 'white' }}>\n        Extra Curses in deck: {extraCurseCount}\n      </h6>\n      <h6 id=\"cursesInDeck\" style={{ color: 'white' }}>\n        Extra -1 cards in deck: {extraMinusOneCount}\n      </h6>\n      {localModifierDeck.length > 0 && (\n        <img\n          alt=\"Attack Modifier Deck\"\n          id=\"amDeck\"\n          className=\"attack-modifier\"\n          onClick={() => handleFlipModifier()}\n          src=\"./images/modifier-deck/cardBack.png\"\n        />\n      )}\n      {playedModifyCards.length > 0 && (\n        <img\n          alt=\"Played Modifiers\"\n          id=\"playedModifiers\"\n          className=\"attack-modifier\"\n          onClick={() => showModal()}\n          src={playedModifyCards[playedModifyCards.length - 1].image}\n        />\n      )}\n      <br />\n      <button\n        className=\"button\"\n        type=\"button\"\n        onClick={() => handleShuffleModifierDeck(true)}\n      >\n        Shuffle Modifiers\n      </button>\n      <br />\n      <button className=\"button\" type=\"button\" onClick={() => handleAddBless()}>\n        Bless\n      </button>\n      <button className=\"button\" type=\"button\" onClick={() => handleAddCurse()}>\n        Curse\n      </button>\n      <button\n        className=\"button\"\n        type=\"button\"\n        onClick={() => handleAddMinusOneCard()}\n      >\n        Add -1 Card\n      </button>\n      <button\n        className=\"button\"\n        type=\"button\"\n        onClick={() => handleRemoveMinusOneCard()}\n      >\n        Remove -1 card\n      </button>\n      <button\n        className=\"button\"\n        type=\"button\"\n        onClick={() => handleResetModifierDeck()}\n      >\n        Reset Modifier Deck\n      </button>\n      <button\n        className=\"button\"\n        type=\"button\"\n        onClick={() => handleRemoveAllCurseCards()}\n      >\n        Remove all curse cards\n      </button>\n      <ModifierModal\n        handleClose={hideModal}\n        playedModifierCards={playedModifyCards}\n        show={displayModal}\n      />\n    </div>\n  )\n}\n\nfunction ModifierModal({ handleClose, playedModifierCards, show }) {\n  const style = show ? { display: 'block' } : { display: 'none' }\n  return (\n    <div id=\"zoomModal\" style={style}>\n      <div id=\"zoomContent\">\n        <h2 style={{ color: 'black', textAlign: 'center' }}>\n          Played Modifiers\n        </h2>\n        <span className=\"close\" onClick={handleClose}>\n          &times;\n        </span>\n        <div id=\"used-modifier-cards\">\n          {playedModifierCards.map((card, index) => (\n            <img alt={card.title} src={card.image} key={index} />\n          ))}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction LostCards({ character, lostCards, moveLostCardToHand }) {\n  const [selectedCard, setSelectedCard] = useState({})\n  const firstRow = lostCards.slice(0, 5)\n  const secondRow = lostCards.slice(5, 10)\n  const thirdRow = lostCards.slice(10, 15)\n\n  function cardSelected(card) {\n    if (selectedCard === card) {\n      return true\n    }\n    return false\n  }\n\n  function handleOnClick(cardClicked) {\n    while (cardClicked.className === 'enhancement-icon') {\n      cardClicked = cardClicked.previousSibling\n    }\n    if (cardClicked.className === 'hand') {\n      cardClicked = cardClicked.firstChild\n    }\n    let cardToSelect = character.cards.find(\n      (card) => card.title === cardClicked.alt\n    )\n    cardToSelect === selectedCard\n      ? setSelectedCard({})\n      : setSelectedCard(cardToSelect)\n  }\n\n  function handleRecoverLostCard(card) {\n    moveLostCardToHand(card)\n    setSelectedCard({})\n  }\n\n  return (\n    <td\n      id=\"lost-cards-title\"\n      colSpan=\"2\"\n      style={{ border: '1px solid white', textAlign: 'center' }}\n    >\n      Lost Cards\n      <br />\n      <table id=\"lost-table\">\n        <tbody>\n          <tr>\n            {firstRow.map((card) => (\n              <CardContainer\n                card={card}\n                cardClass={'chooseCards'}\n                containerClass={'lost'}\n                cardSelected={cardSelected}\n                character={character}\n                key={card.title}\n                onClick={handleOnClick}\n              />\n            ))}\n          </tr>\n          <tr>\n            {secondRow.map((card) => (\n              <CardContainer\n                card={card}\n                cardClass={'chooseCards'}\n                containerClass={'lost'}\n                cardSelected={cardSelected}\n                character={character}\n                key={card.title}\n                onClick={handleOnClick}\n              />\n            ))}\n          </tr>\n          <tr>\n            {thirdRow.map((card) => (\n              <CardContainer\n                card={card}\n                cardClass={'chooseCards'}\n                containerClass={'lost'}\n                cardSelected={cardSelected}\n                character={character}\n                key={card.title}\n                onClick={handleOnClick}\n              />\n            ))}\n          </tr>\n        </tbody>\n      </table>\n      <button\n        id=\"recover-lost\"\n        className=\"button\"\n        disabled={Object.keys(selectedCard).length === 0}\n        onClick={() => handleRecoverLostCard(selectedCard)}\n        type=\"button\"\n        title=\"Must Have a Lost Card Selected\"\n      >\n        Recover Lost Card\n      </button>\n    </td>\n  )\n}\n\nfunction HandCards({\n  character,\n  hand,\n  moveHandCardToLost,\n  moveCardsToChosen,\n  moveThirdCardToChosen,\n  hasCardsInPlay,\n  staffOfCommand,\n}) {\n  const rowOne = hand.slice(0, 4)\n  const rowTwo = hand.slice(4, 8)\n  const rowThree = hand.slice(8, 12)\n\n  const [selectedCards, setSelectedCards] = useState([])\n\n  function handleOnClick(cardClicked) {\n    while (cardClicked.className === 'enhancement-icon') {\n      cardClicked = cardClicked.previousSibling\n    }\n    if (cardClicked.className === 'hand') {\n      cardClicked = cardClicked.firstChild\n    }\n    let characterCard = character.cards.find(\n      (card) => card.title === cardClicked.alt\n    )\n    if (selectedCards.some((card) => card.title === cardClicked.alt)) {\n      let newSelection = [...selectedCards]\n      _.remove(newSelection, characterCard)\n      setSelectedCards(newSelection)\n    } else {\n      if (selectedCards.length < 2) {\n        setSelectedCards([...selectedCards, characterCard])\n      } else {\n        let newSelection = [...selectedCards]\n        newSelection.shift()\n        newSelection.push(characterCard)\n        setSelectedCards(newSelection)\n      }\n    }\n  }\n\n  function cardSelected(cardClicked) {\n    if (selectedCards.some((card) => card.title === cardClicked.title)) {\n      return true\n    }\n    return false\n  }\n\n  function handlePlayCards() {\n    moveCardsToChosen(selectedCards)\n    setSelectedCards([])\n  }\n\n  function handlePlayStaffOfCommand() {\n    let cardToPlay = selectedCards\n    moveThirdCardToChosen(cardToPlay)\n    setSelectedCards([])\n  }\n\n  function handleLostCardToAvoidDamage() {\n    moveHandCardToLost(selectedCards[0])\n    setSelectedCards([])\n  }\n\n  return (\n    <>\n      <div id=\"hand-cards\">\n        <table align=\"center\">\n          <tbody>\n            <tr>\n              {rowOne.map((card) => (\n                <CardContainer\n                  key={card.title}\n                  card={card}\n                  containerClass=\"hand\"\n                  cardSelected={cardSelected}\n                  character={character}\n                  onClick={handleOnClick}\n                />\n              ))}\n            </tr>\n            <tr>\n              {rowTwo.map((card) => (\n                <CardContainer\n                  key={card.title}\n                  card={card}\n                  containerClass=\"hand\"\n                  cardSelected={cardSelected}\n                  character={character}\n                  onClick={handleOnClick}\n                />\n              ))}\n            </tr>\n            <tr>\n              {rowThree.map((card) => (\n                <CardContainer\n                  key={card.title}\n                  card={card}\n                  containerClass=\"hand\"\n                  cardSelected={cardSelected}\n                  character={character}\n                  onClick={handleOnClick}\n                />\n              ))}\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div id=\"confirm-buttons\" align=\"center\">\n        <button\n          id=\"play-cards-button\"\n          className=\"button\"\n          disabled={selectedCards.length !== 2 || hasCardsInPlay}\n          type=\"button\"\n          title=\"Must Select 2 Cards, Not Have Any Cards In Play, And Not Be Resting\"\n          onClick={() => handlePlayCards()}\n        >\n          Play Cards\n        </button>\n        {staffOfCommand && (\n          <button\n            id=\"play-third-card\"\n            className=\"button\"\n            disabled={!hasCardsInPlay || selectedCards.length !== 1}\n            onClick={() => handlePlayStaffOfCommand()}\n            type=\"button\"\n            title=\"Must Have Played Cards\"\n          >\n            Play third card with Staff of Command\n          </button>\n        )}\n        <button\n          id=\"lose-hand-card\"\n          className=\"button\"\n          disabled={selectedCards.length !== 1}\n          onClick={() => handleLostCardToAvoidDamage()}\n          type=\"button\"\n          title=\"Must Have One Card Selected\"\n        >\n          Lose Card To Avoid Damage\n        </button>\n      </div>\n    </>\n  )\n}\n\nexport default PlayArea\n","import React, { useState, useEffect } from 'react'\nimport './App.css'\nimport _ from 'lodash'\nimport {\n  Button,\n  Field,\n  Input,\n  Select,\n  StackView,\n  ThemeProvider,\n  TextArea,\n} from '@planning-center/ui-kit'\nimport CharacterSelection from './CharacterSelection'\nimport PerkSelection from './PerkSelection'\nimport HandSelection from './HandSelection'\nimport PlayArea from './PlayArea'\nimport Cookies from 'universal-cookie'\nimport CookieConsent from 'react-cookie-consent'\n\nfunction App() {\n  const [stage, setStage] = useState('selectCharacter')\n  const [game, setGame] = useState('gloomhaven')\n  const [character, setCharacter] = useState({})\n  const [level, setLevel] = useState(1)\n  const [hand, setHand] = useState([])\n  const [modifierDeck, setModifierDeck] = useState([\n    {\n      name: 'plus0',\n      image: './images/attack-modifiers/base/player/am-plus0.png',\n    },\n    {\n      name: 'plus0',\n      image: './images/attack-modifiers/base/player/am-plus0.png',\n    },\n    {\n      name: 'plus0',\n      image: './images/attack-modifiers/base/player/am-plus0.png',\n    },\n    {\n      name: 'plus0',\n      image: './images/attack-modifiers/base/player/am-plus0.png',\n    },\n    {\n      name: 'plus0',\n      image: './images/attack-modifiers/base/player/am-plus0.png',\n    },\n    {\n      name: 'plus0',\n      image: './images/attack-modifiers/base/player/am-plus0.png',\n    },\n    {\n      name: 'plus1',\n      image: './images/attack-modifiers/base/player/am-plus1.png',\n    },\n    {\n      name: 'plus1',\n      image: './images/attack-modifiers/base/player/am-plus1.png',\n    },\n    {\n      name: 'plus1',\n      image: './images/attack-modifiers/base/player/am-plus1.png',\n    },\n    {\n      name: 'plus1',\n      image: './images/attack-modifiers/base/player/am-plus1.png',\n    },\n    {\n      name: 'plus1',\n      image: './images/attack-modifiers/base/player/am-plus1.png',\n    },\n    {\n      name: 'minus1',\n      image: './images/attack-modifiers/base/player/am-minus1.png',\n    },\n    {\n      name: 'minus1',\n      image: './images/attack-modifiers/base/player/am-minus1.png',\n    },\n    {\n      name: 'minus1',\n      image: './images/attack-modifiers/base/player/am-minus1.png',\n    },\n    {\n      name: 'minus1',\n      image: './images/attack-modifiers/base/player/am-minus1.png',\n    },\n    {\n      name: 'minus1',\n      image: './images/attack-modifiers/base/player/am-minus1.png',\n    },\n    {\n      name: 'minus2',\n      image: './images/attack-modifiers/base/player/am-minus2.png',\n    },\n    {\n      name: 'plus1',\n      image: './images/attack-modifiers/base/player/am-plus2.png',\n    },\n    {\n      name: 'miss',\n      image: './images/attack-modifiers/base/player/am-miss.png',\n    },\n    {\n      name: 'times2',\n      image: './images/attack-modifiers/base/player/am-x2.png',\n    },\n  ])\n  const [staffOfCommand, setStaffOfCommand] = useState(false)\n  const allCharacterData = getGameCharacters(game)\n  const cookies = new Cookies()\n\n  // Load the game selected from the cookie if possible\n  useEffect(() => {\n    let cookieInfo = cookies.getAll()\n    if (cookieInfo.game) {\n      setGame(cookieInfo.game)\n    }\n  }, [])\n\n  function getGameCharacters(gameName) {\n    if (gameName === 'gloomhaven') {\n      return require('./gloomhavenCharacterData.json')\n    } else if (gameName === 'forgottenCircles') {\n      return require(`./forgottenCirclesCharacterData.json`)\n    } else if (gameName === 'jotl') {\n      return require(`./jawsOfTheLionCharacterData.json`)\n    }\n  }\n\n  function handleGameChange(gameName) {\n    setGame(gameName)\n    if (gameName === 'jotl' && level > 4) {\n      setLevel(4)\n    }\n  }\n\n  function handleSetStage(stage) {\n    setStage(stage)\n  }\n\n  function handleSetCharacter(characterName) {\n    // Set game info in cookie for retrieval the next time they visit the site.\n    cookies.set('game', game, {\n      path: '/',\n      maxAge: 31104000,\n    })\n\n    let characterData = allCharacterData.find((x) => x.name === characterName)\n    if (characterName !== cookies.get('character')) {\n      cookies.remove('perks')\n      cookies.remove('modifierChanges')\n    }\n    cookies.set('character', characterData.name, {\n      path: '/',\n      maxAge: 31104000,\n    })\n    setCharacter(characterData, setStage('selectPerks'))\n  }\n\n  function handleUpdateCharacter(character) {\n    setCharacter(character)\n  }\n\n  function handleSetLevel(level) {\n    cookies.set('level', level, { maxAge: 31104000 })\n    setLevel(level)\n  }\n\n  function addCardToHand(cardToAdd) {\n    setHand([...hand, cardToAdd])\n  }\n\n  function removeCardFromHand(cardReceived) {\n    let cardToRemove = hand.find((card) => card.title === cardReceived.title)\n    let previousHand = [...hand]\n    let newHand = _.reject(previousHand, ['title', cardToRemove.title])\n    setHand(newHand)\n  }\n\n  function modifyModifierDeck(cardsToRemove, cardsToAdd) {\n    // Function to find index for cards to remove\n    function findWithAttr(array, attr, value) {\n      for (var i = 0; i < array.length; i++) {\n        if (array[i][attr] === value) {\n          return i\n        }\n      }\n      return -1\n    }\n\n    // Add cards to modifier deck\n    let newModifierDeck = modifierDeck.concat(cardsToAdd)\n\n    // Remove cards from modifier deck\n    let modifierWithCardsRemoved = [...newModifierDeck]\n    cardsToRemove.forEach((card) => {\n      let index = findWithAttr(modifierWithCardsRemoved, 'name', card.name)\n      modifierWithCardsRemoved.splice(index, 1)\n    })\n\n    // Shuffle new deck\n    for (let i = modifierWithCardsRemoved.length - 1; i > 0; i--) {\n      const j = Math.floor(Math.random() * i)\n      const temp = modifierWithCardsRemoved[i]\n      modifierWithCardsRemoved[i] = modifierWithCardsRemoved[j]\n      modifierWithCardsRemoved[j] = temp\n    }\n\n    // Set state with new deck\n    setModifierDeck(modifierWithCardsRemoved)\n  }\n\n  function handleStaffOfCommand(selected) {\n    setStaffOfCommand(selected)\n  }\n\n  function resetModifierDeck() {\n    setModifierDeck([\n      {\n        name: 'plus0',\n        image: './images/attack-modifiers/base/player/am-plus0.png',\n      },\n      {\n        name: 'plus0',\n        image: './images/attack-modifiers/base/player/am-plus0.png',\n      },\n      {\n        name: 'plus0',\n        image: './images/attack-modifiers/base/player/am-plus0.png',\n      },\n      {\n        name: 'plus0',\n        image: './images/attack-modifiers/base/player/am-plus0.png',\n      },\n      {\n        name: 'plus0',\n        image: './images/attack-modifiers/base/player/am-plus0.png',\n      },\n      {\n        name: 'plus0',\n        image: './images/attack-modifiers/base/player/am-plus0.png',\n      },\n      {\n        name: 'plus1',\n        image: './images/attack-modifiers/base/player/am-plus1.png',\n      },\n      {\n        name: 'plus1',\n        image: './images/attack-modifiers/base/player/am-plus1.png',\n      },\n      {\n        name: 'plus1',\n        image: './images/attack-modifiers/base/player/am-plus1.png',\n      },\n      {\n        name: 'plus1',\n        image: './images/attack-modifiers/base/player/am-plus1.png',\n      },\n      {\n        name: 'plus1',\n        image: './images/attack-modifiers/base/player/am-plus1.png',\n      },\n      {\n        name: 'minus1',\n        image: './images/attack-modifiers/base/player/am-minus1.png',\n      },\n      {\n        name: 'minus1',\n        image: './images/attack-modifiers/base/player/am-minus1.png',\n      },\n      {\n        name: 'minus1',\n        image: './images/attack-modifiers/base/player/am-minus1.png',\n      },\n      {\n        name: 'minus1',\n        image: './images/attack-modifiers/base/player/am-minus1.png',\n      },\n      {\n        name: 'minus1',\n        image: './images/attack-modifiers/base/player/am-minus1.png',\n      },\n      {\n        name: 'minus2',\n        image: './images/attack-modifiers/base/player/am-minus2.png',\n      },\n      {\n        name: 'plus1',\n        image: './images/attack-modifiers/base/player/am-plus2.png',\n      },\n      {\n        name: 'miss',\n        image: './images/attack-modifiers/base/player/am-miss.png',\n      },\n      {\n        name: 'times2',\n        image: './images/attack-modifiers/base/player/am-x2.png',\n      },\n    ])\n  }\n\n  return (\n    <>\n      {stage === 'selectCharacter' && (\n        <>\n          <CharacterSelection\n            availableCharacters={allCharacterData}\n            game={game}\n            handleGameChange={handleGameChange}\n            handleSetCharacter={handleSetCharacter}\n            handleSetLevel={handleSetLevel}\n            handleStaffOfCommand={handleStaffOfCommand}\n            level={level}\n          />\n        </>\n      )}\n      {stage === 'selectPerks' && (\n        <PerkSelection\n          modifyModifierDeck={modifyModifierDeck}\n          character={character}\n          handleSetStage={handleSetStage}\n          characterPerks={character.perks}\n          resetModifierDeck={resetModifierDeck}\n        />\n      )}\n      {stage === 'selectHand' && (\n        <HandSelection\n          addCardToHand={addCardToHand}\n          character={character}\n          level={level}\n          hand={hand}\n          handleUpdateCharacter={handleUpdateCharacter}\n          handleSetStage={handleSetStage}\n          removeCardFromHand={removeCardFromHand}\n        />\n      )}\n      {stage === 'playing' && (\n        <PlayArea\n          character={character}\n          hand={hand}\n          modifierDeck={modifierDeck}\n          setHand={setHand}\n          staffOfCommand={staffOfCommand}\n        />\n      )}\n      <Feedback />\n      <CookieConsent>\n        This website uses cookies to save your selected preferences.\n      </CookieConsent>\n    </>\n  )\n}\n\nfunction Feedback() {\n  const [displayModal, setDisplayModal] = useState(false)\n\n  function handleSubmitFeedback() {\n    setDisplayModal(true)\n  }\n\n  function hideModal() {\n    setDisplayModal(false)\n  }\n\n  return (\n    <div className=\"footer\">\n      <p>\n        Did you run into a bug or do you have some feedback about the app? I'd\n        love to hear about it!\n      </p>\n      <button onClick={handleSubmitFeedback}>Submit Feedback</button>\n      <FeedbackModal show={displayModal} hideModal={hideModal} />\n    </div>\n  )\n}\n\nfunction FeedbackModal({ show, hideModal }) {\n  const style = show ? { display: 'block' } : { display: 'none' }\n  const [title, setTitle] = useState('')\n  const [type, setType] = useState('')\n  const [body, setBody] = useState('')\n  const [submitted, setSubmitted] = useState(false)\n  const [submissionError, setSubmissionError] = useState(false)\n  const [showErrors, setShowErrors] = useState(false)\n  const { Octokit } = require('@octokit/rest')\n  const octokit = new Octokit({\n    auth: process.env.REACT_APP_GITHUB_KEY,\n  })\n\n  function handleSubmitForm() {\n    if (title !== '' && type !== '' && body !== '') {\n      setShowErrors(false)\n      setSubmitted(true)\n      octokit.issues\n        .create({\n          owner: 'nicholaskillin',\n          repo: 'gloomhaven-hand-manager',\n          title: title,\n          body: body,\n          labels: [type],\n        })\n        .catch((err) => {\n          setSubmissionError(true)\n          return\n        })\n    } else {\n      setShowErrors(true)\n    }\n  }\n\n  return (\n    <div id=\"zoomModal\" style={style}>\n      <div id=\"zoomFeedbackContent\">\n        <span className=\"close\" onClick={hideModal}>\n          &times;\n        </span>\n        <h1>Feedback</h1>\n        {showErrors && (\n          <h1 style={{ color: 'red' }}>Please fill out all fields</h1>\n        )}\n        {!submitted && (\n          <ThemeProvider>\n            <StackView spacing={1}>\n              <Field\n                inline\n                label=\"Subject\"\n                helpContent=\"Brief sentence describing the feedback\"\n              >\n                <Input\n                  onChange={({ target }) => setTitle(target.value)}\n                  style={{ color: 'black' }}\n                />\n              </Field>\n              <Field\n                inline\n                label=\"Type\"\n                helpContent=\"Is this a bug or a feature request?\"\n              >\n                <Select\n                  emptyValue=\"Bug or Feature Request?\"\n                  tooltip={{ title: 'Bug or Feature Request' }}\n                  onChange={(e) => setType(e.value)}\n                  style={{ color: 'black' }}\n                >\n                  <Select.Option value=\"bug\">Bug</Select.Option>\n                  <Select.Option value=\"enhancement\">\n                    Feature Request\n                  </Select.Option>\n                </Select>\n              </Field>\n              <Field\n                inline\n                label=\"Description\"\n                helpContent=\"Please be detailed here if you found a bug. The more details the better.\"\n              >\n                <TextArea\n                  onChange={({ target }) => setBody(target.value)}\n                  style={{ color: 'black', height: '200px' }}\n                  placeholder=\"Please include as many details as you can for bugs\"\n                />\n              </Field>\n              <Field inline>\n                <Button onClick={handleSubmitForm}>Submit</Button>\n              </Field>\n            </StackView>\n          </ThemeProvider>\n        )}\n        {submitted && !submissionError && (\n          <h1>Thank you for your submission!</h1>\n        )}\n        {submissionError && (\n          <p>\n            Welp, seems like there was an issue sending your feedback. You can\n            visit the{' '}\n            <a\n              href=\"https://github.com/nicholaskillin/gloomhaven-hand-manager/issues\"\n              target=\"_blank\"\n            >\n              Github Repo\n            </a>{' '}\n            to provide that feedback if you'd like.\n          </p>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}